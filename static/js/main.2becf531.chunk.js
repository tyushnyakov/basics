(this.webpackJsonpbasics=this.webpackJsonpbasics||[]).push([[0],{21:function(e,t,a){e.exports=a(38)},26:function(e,t,a){},27:function(e,t,a){},28:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(19),l=a.n(r),o=(a(26),a(27),a(2)),m=(a(28),a(8)),u=a(1);var s=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)(!1),s=Object(o.a)(l,2),i=s[0],p=s[1];Object(n.useEffect)((function(){fetch("https://my-json-server.typicode.com/tyushnyakov/contacts/users").then((function(e){return e.json()})).then((function(e){return r(e)}))}),[]);var f=Object(m.a)(),E=f.register,h=f.handleSubmit;return i?c.a.createElement(u.a,{to:"/contacts"}):c.a.createElement("div",{className:"auth"},c.a.createElement("h1",null,"\u0412\u0425\u041e\u0414 \u0412 \u041b\u0418\u0427\u041d\u042b\u0419 \u041a\u0410\u0411\u0418\u041d\u0415\u0422"),c.a.createElement("form",{onSubmit:h((function(e){a.forEach((function(t){t.login===e.login&&t.password===e.password?p(!0):alert("\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c")}))}))},"Login: ",c.a.createElement("input",{type:"text",name:"login",ref:E}),"Password: ",c.a.createElement("input",{type:"password",name:"password",ref:E}),c.a.createElement("input",{type:"submit",value:"\u0412\u041e\u0419\u0422\u0418"})))};a(35),a(36);var i=function(e){var t=Object(n.useState)(!1),a=Object(o.a)(t,2),r=a[0],l=a[1],u=Object(m.a)(),s=u.register,i=u.handleSubmit;return r?c.a.createElement("div",{className:"contact-wrapper"},c.a.createElement("form",{onSubmit:i((function(t,a){var n={method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)};fetch("https://my-json-server.typicode.com/tyushnyakov/contacts/contacts/"+e.id,n).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)})).finally((function(){return l(!1)})),a.target.reset()}))},c.a.createElement("div",{className:"contacts-item"},c.a.createElement("p",null,e.contact.id),c.a.createElement("input",{type:"text",placeholder:e.contact.name,name:"name",ref:s}),c.a.createElement("input",{type:"text",placeholder:e.contact.surname,name:"surname",ref:s}),c.a.createElement("input",{type:"email",placeholder:e.contact.email,name:"email",ref:s}),c.a.createElement("input",{type:"submit",value:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u043a\u043e\u043d\u0442\u0430\u043a\u0442"})))):c.a.createElement("div",{className:"contact-wrapper"},c.a.createElement("div",{className:"contacts-item"},c.a.createElement("p",null,e.contact.id),c.a.createElement("p",null,e.contact.name," ",e.contact.surname),c.a.createElement("p",null,e.contact.email),c.a.createElement("div",null,c.a.createElement("button",{onClick:function(){fetch("https://my-json-server.typicode.com/tyushnyakov/contacts/contacts/"+e.contact.id,{method:"DELETE"})}},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"),c.a.createElement("button",{onClick:function(){return l(!0)}},"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"))))};a(37);var p=function(){var e=Object(m.a)(),t=e.register,a=e.handleSubmit;return c.a.createElement("div",null,c.a.createElement("form",{onSubmit:a((function(e,t){var a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};fetch("https://my-json-server.typicode.com/tyushnyakov/contacts/contacts",a).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)})),t.target.reset()}))},c.a.createElement("div",{className:"add-wrapper"},c.a.createElement("input",{type:"text",placeholder:"\u0418\u043c\u044f",name:"name",ref:t}),c.a.createElement("input",{type:"text",placeholder:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",name:"surname",ref:t}),c.a.createElement("input",{type:"email",placeholder:"e-mail",name:"email",ref:t}),c.a.createElement("input",{type:"submit",value:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u043d\u0442\u0430\u043a\u0442"}))))};var f=function(){var e=Object(n.useState)(null),t=Object(o.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)(!1),u=Object(o.a)(l,2),s=u[0],f=u[1],E=Object(n.useState)([]),h=Object(o.a)(E,2),d=h[0],b=h[1],v=Object(n.useState)({}),y=Object(o.a)(v,2),j=y[0],O=y[1];Object(n.useEffect)((function(){fetch("https://my-json-server.typicode.com/tyushnyakov/contacts/contacts").then((function(e){return e.json()})).then((function(e){f(!0),b(e)}),(function(e){f(!0),r(e)}))}),[]),Object(n.useEffect)((function(){j.name&&b(d.filter((function(e){return e.name+" "+e.surname===j.name})))}),[j,d]);var g=Object(m.a)(),S=g.register,N=g.handleSubmit;return a?c.a.createElement("div",null,"\u041e\u0448\u0438\u0431\u043a\u0430: ",a.message):s?c.a.createElement("div",{className:"wrapper"},c.a.createElement("div",{className:"header"},c.a.createElement("h2",null,"\u041a\u041e\u041d\u0422\u0410\u041a\u0422\u042b"),c.a.createElement("div",{className:"search"},c.a.createElement("form",{onSubmit:N((function(e,t){O(e),t.target.reset()}))},c.a.createElement("div",{className:"search-wrapper"},c.a.createElement("input",{type:"search",name:"name",ref:S}),c.a.createElement("imput",{type:"submit",value:"\u041f\u043e\u0438\u0441\u043a"}),"\u041f\u043e\u0438\u0441\u043a")))),c.a.createElement(p,null),c.a.createElement("ul",null,d.map((function(e){return c.a.createElement("li",null,c.a.createElement(i,{key:e.id,contact:e}))})))):c.a.createElement("div",null,"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...")},E=a(13);var h=function(){return c.a.createElement(E.a,null,c.a.createElement("header",{className:"App-header"},c.a.createElement(E.b,{to:"/auth"},c.a.createElement("h1",null,"CONTACTS"))),c.a.createElement(u.d,null,c.a.createElement(u.b,{path:"/auth"},c.a.createElement(s,null)),c.a.createElement(u.b,{path:"/contacts"},c.a.createElement(f,null))))};l.a.render(c.a.createElement(h,null),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.2becf531.chunk.js.map